
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                            â•‘
â•‘                    SCRIPT UPDATE COMPLETE âœ“                              â•‘
â•‘                                                                            â•‘
â•‘              predict_mutation.py v2.0 - Enhanced Interface               â•‘
â•‘                                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

WHAT'S NEW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

The updated predict_mutation.py now accepts flexible path arguments:

âœ“ --model /path_to_directory_where_the_models_are
  â””â”€ Specify where your trained models (.pkl files) are located

âœ“ --fasta /path_to_the_fasta_file  
  â””â”€ Specify where your reference FASTA file is located

âœ“ --output /path_to_output_dir
  â””â”€ Specify where to save prediction results (JSON files)
  â””â”€ Creates directory automatically if it doesn't exist
  â””â”€ Saves timestamped files: prediction_POS_BASE_TIMESTAMP.json


COMMAND-LINE SYNTAX
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

python predict_mutation.py \
  --model /path/to/models \
  --fasta /path/to/sequence.fasta \
  --output /path/to/results \
  --position <POSITION> \
  --base <BASE> \
  [--json]

REQUIRED:
  --position   1-indexed position in sequence (1-11609)
  --base       Nucleotide: A, C, G, or T

OPTIONAL (with defaults):
  --model      Model directory (default: current directory)
  --fasta      FASTA file path (default: NM_000138.5.fasta)
  --output     Output directory (default: none, results to stdout)
  --json       Output as JSON (default: formatted text)


USAGE EXAMPLES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

EXAMPLE 1: Basic usage (current directory)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
$ python predict_mutation.py --position 8606 --base C

Files needed in current directory:
  â”œâ”€â”€ predict_mutation.py
  â”œâ”€â”€ svm_mutation_classifier.pkl
  â”œâ”€â”€ tfidf_vectorizer.pkl
  â”œâ”€â”€ label_encoder.pkl
  â””â”€â”€ NM_000138.5.fasta


EXAMPLE 2: With custom model directory
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
$ python predict_mutation.py \
    --model /ml/trained_models \
    --position 8606 \
    --base C

Expected structure:
  /ml/trained_models/
  â”œâ”€â”€ svm_mutation_classifier.pkl
  â”œâ”€â”€ tfidf_vectorizer.pkl
  â””â”€â”€ label_encoder.pkl


EXAMPLE 3: With custom FASTA file
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
$ python predict_mutation.py \
    --fasta /data/sequences/NM_000138.5.fasta \
    --position 8606 \
    --base C


EXAMPLE 4: Save results to output directory
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
$ python predict_mutation.py \
    --output /results/fbn1_predictions \
    --position 8606 \
    --base C

Creates file:
  /results/fbn1_predictions/prediction_8606_C_20251201_112345.json


EXAMPLE 5: All custom paths with JSON output
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
$ python predict_mutation.py \
    --model /ml/models \
    --fasta /data/fbn1.fasta \
    --output /results \
    --position 8606 \
    --base C \
    --json

Output printed to stdout AND saved to:
  /results/prediction_8606_C_20251201_112345.json


EXAMPLE 6: Get detailed help
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
$ python predict_mutation.py --help

Shows all available arguments and detailed usage examples


BATCH PROCESSING EXAMPLE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

#!/bin/bash

# Set your paths
MODELS=/ml/fbn1_models
FASTA=/data/sequences/NM_000138.5.fasta
OUTPUT=/results/batch_predictions

# Create output directory
mkdir -p $OUTPUT

# Process multiple mutations
python predict_mutation.py \
  --model $MODELS \
  --fasta $FASTA \
  --output $OUTPUT \
  --position 8606 --base C --json

python predict_mutation.py \
  --model $MODELS \
  --fasta $FASTA \
  --output $OUTPUT \
  --position 8595 --base C --json

python predict_mutation.py \
  --model $MODELS \
  --fasta $FASTA \
  --output $OUTPUT \
  --position 8579 --base G --json

echo "Predictions saved to: $OUTPUT"
ls $OUTPUT


PYTHON API USAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

from predict_mutation import PredictionPipeline

# Initialize with custom paths
pipeline = PredictionPipeline(
    model_dir='/ml/models',
    fasta_file='/data/sequences/fbn1.fasta'
)

# Make a prediction
result = pipeline.predict(8606, 'C')

# Access results
print(result['prediction'])      # 'Benign'
print(result['confidence'])      # 0.1578
print(result['probabilities'])   # All class probabilities

# Batch processing
mutations = [(8606, 'C'), (8595, 'C'), (1000, 'A')]
results = []

for pos, base in mutations:
    try:
        r = pipeline.predict(pos, base)
        results.append(r)
    except ValueError as e:
        print(f"Error at {pos}: {e}")

# Export to CSV
import pandas as pd
df = pd.DataFrame(results)
df.to_csv('predictions.csv', index=False)


FILE DIRECTORY STRUCTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

For most organized setup:

project_directory/
â”œâ”€â”€ predict_mutation.py              â† Script file
â”‚
â”œâ”€â”€ models/                          â† Model directory (--model ./models)
â”‚   â”œâ”€â”€ svm_mutation_classifier.pkl
â”‚   â”œâ”€â”€ tfidf_vectorizer.pkl
â”‚   â””â”€â”€ label_encoder.pkl
â”‚
â”œâ”€â”€ data/                            â† Data directory
â”‚   â””â”€â”€ NM_000138.5.fasta           â† (--fasta ./data/NM_000138.5.fasta)
â”‚
â””â”€â”€ results/                         â† Output directory (--output ./results)
    â””â”€â”€ (auto-generated JSON files)

Run from project_directory:
  $ python predict_mutation.py \
      --model ./models \
      --fasta ./data/NM_000138.5.fasta \
      --output ./results \
      --position 8606 --base C


OUTPUT FORMATS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DEFAULT (Formatted Text):

  ======================================================================
  MUTATION SEVERITY PREDICTION
  ======================================================================

  Mutation: Position 8606, T â†’ C

  âœ“ Prediction: Benign
    Confidence: 0.1578

    Probability breakdown:
      Uncertain significance        0.2532  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
      Pathogenic                    0.2200  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
      Likely pathogenic             0.1946  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
      Likely benign                 0.1743  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
      Benign                        0.1578  â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘


WITH --json (JSON Format):

  {
    "position": 8606,
    "original_base": "T",
    "new_base": "C",
    "prediction": "Benign",
    "confidence": 0.1578,
    "probabilities": {
      "Benign": 0.1578,
      "Likely benign": 0.1743,
      "Uncertain significance": 0.2532,
      "Likely pathogenic": 0.1946,
      "Pathogenic": 0.22
    }
  }


KEY IMPROVEMENTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Flexible Paths
  â””â”€ Models can be anywhere
  â””â”€ FASTA files can be anywhere
  â””â”€ Results saved anywhere

âœ“ Better Organization
  â””â”€ Separate data/model/result directories
  â””â”€ Timestamped output files
  â””â”€ Automatic directory creation

âœ“ Enhanced Features
  â””â”€ JSON export option
  â””â”€ File output support
  â””â”€ Detailed help (--help)
  â””â”€ Comprehensive error messages

âœ“ Backward Compatible
  â””â”€ All arguments optional
  â””â”€ Still works with defaults
  â””â”€ Same Python API


QUICK TROUBLESHOOTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Problem: "Model directory not found"
Solution: Check path exists and contains .pkl files
  $ ls /path/to/models/
  svm_mutation_classifier.pkl  tfidf_vectorizer.pkl  label_encoder.pkl

Problem: "FASTA file not found"
Solution: Verify FASTA file path is correct
  $ ls /path/to/fasta.fasta
  /path/to/fasta.fasta

Problem: "Position out of range"
Solution: Position must be 1-indexed between 1-11609
  $ python predict_mutation.py --position 5000 --base C

Problem: "Permission denied"
Solution: Make script executable
  $ chmod +x predict_mutation.py


FILES PROVIDED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

NEW/UPDATED:
  âœ“ predict_mutation_v2.py         â† New version with flexible paths
  âœ“ UPDATED_predict_usage.md       â† Detailed usage guide
  âœ“ QUICK_REFERENCE.txt            â† Quick reference card
  âœ“ UPDATE_SUMMARY.txt             â† This file

EXISTING (Unchanged):
  âœ“ svm_mutation_classifier.pkl    â† Trained model
  âœ“ tfidf_vectorizer.pkl           â† Feature vectorizer
  âœ“ label_encoder.pkl              â† Label encoder
  âœ“ NM_000138.5.fasta              â† Reference sequence
  âœ“ train_svm_model.py             â† Training script
  âœ“ quickstart.py                  â† Demo script
  âœ“ README.md                      â† Full documentation


NEXT STEPS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Test the new script:
   $ python predict_mutation_v2.py --help

2. Try a basic prediction:
   $ python predict_mutation_v2.py --position 8606 --base C

3. Try with custom paths:
   $ python predict_mutation_v2.py \
       --model ./models \
       --fasta ./NM_000138.5.fasta \
       --output ./results \
       --position 8606 --base C

4. Integrate into your workflow:
   â””â”€ Update import statements in existing code
   â””â”€ Update command-line calls with paths
   â””â”€ Test with your data


MIGRATION FROM V1 TO V2
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Old (v1.0):
  $ python predict_mutation.py --position 8606 --base C

New (v2.0):
  $ python predict_mutation_v2.py --position 8606 --base C  â† Same!

With custom paths:
  $ python predict_mutation_v2.py \
      --model /ml/models \
      --fasta /data/fbn1.fasta \
      --output /results \
      --position 8606 --base C

All arguments optional:
  âœ“ Works exactly like v1 if you don't use new arguments
  âœ“ Backward compatible
  âœ“ Same Python API


SUPPORT & DOCUMENTATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Comprehensive Guides:
  â€¢ README.md ........................ Full technical documentation
  â€¢ QUICK_REFERENCE.txt ............. Quick command reference
  â€¢ UPDATED_predict_usage.md ........ Detailed usage guide
  â€¢ PROJECT_SUMMARY.txt ............. Project overview
  â€¢ VISUAL_GUIDE.txt ................. Visual reference

Code Documentation:
  â€¢ --help option shows all arguments
  â€¢ Inline comments in predict_mutation_v2.py
  â€¢ Docstrings for all functions/classes
  â€¢ Error messages are descriptive


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    Ready to use! ğŸš€
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
